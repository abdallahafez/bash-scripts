---(1)------- to check the usage ------------------
select df.tablespace_name "Tablespace",
totalusedspace "Used MB",
(df.totalspace - tu.totalusedspace) "Free MB",
df.totalspace "Total MB",
round(100 * ( (df.totalspace - tu.totalusedspace)/ df.totalspace))
"Pct. Free"
from
(select tablespace_name,
round(sum(bytes) / 1048576) TotalSpace
from dba_data_files 
group by tablespace_name) df,
(select round(sum(bytes)/(1024*1024)) totalusedspace, tablespace_name
from dba_segments 
group by tablespace_name) tu
where df.tablespace_name = tu.tablespace_name (+); 

---(2)------ calculate required amout to get 20% free, lw el table kbeer mmkn n5leh 82%

----(3)----- check free ASM DG
SELECT name, free_mb, total_mb, free_mb/total_mb*100 as percentage FROM v$asm_diskgroup; 

----(4)-------- extend the table

 ALTER TABLESPACE MPESA_DATA RESIZE 2700G;

note: lw msalan el table m6tag 50G mzwedhomsh mraw7da 2a2semhom chunks so8yra 
 
